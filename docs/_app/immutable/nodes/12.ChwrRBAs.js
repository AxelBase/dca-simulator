import{f as C,a as g,c as Vt}from"../chunks/CKuPFPuA.js";import"../chunks/DlNXMvOS.js";import{a5 as qt,al as _t,am as Tt,a8 as jt,s as v,m as T,g as t,a9 as a,aa as e,ab as s,a7 as j,a6 as yt,u as b,ae as Bt}from"../chunks/BJ1Ak9sp.js";import{s as F,e as J}from"../chunks/DuEmV5e4.js";import{i as G}from"../chunks/Bp8RtLBC.js";import{e as wt,i as Rt}from"../chunks/B8LWul9n.js";import{t as A,f as K,a as lt,s as $t}from"../chunks/DHpw1z5L.js";import{s as nt,r as Lt}from"../chunks/GwdE7HqI.js";import{s as M}from"../chunks/W3o-E1mj.js";import{b as Gt}from"../chunks/C11XuN-9.js";import{i as Et}from"../chunks/DeXpFUvI.js";import{s as Ot,a as zt}from"../chunks/CiQMj1tR.js";import{s as Ht}from"../chunks/BX62y_by.js";import{b as dt}from"../chunks/gpYHpCPp.js";const Yt=()=>{const x=Ht;return{page:{subscribe:x.page.subscribe},navigating:{subscribe:x.navigating.subscribe},updated:x.updated}},Jt={subscribe(x){return Yt().page.subscribe(x)}};function kt(x){const{amount:N,frequency:B,periods:E,initialPrice:O,annualGrowth:h}=x,r=B==="weekly"?52:12;let _=0,c=0;const P=[];for(let S=1;S<=E;S++){const X=h/100*(S/r),i=O*(1+X),l=N/i;_+=N,c+=l,P.push({period:S,price:i.toFixed(2),units:l.toFixed(4),invested:N.toFixed(2)})}const z=(_/c).toFixed(2),Q=h/100*(E/r),U=(O*(1+Q)).toFixed(2),W=(c*parseFloat(U)).toFixed(2);return{summary:{totalInvested:_.toFixed(2),totalUnits:c.toFixed(4),averageCost:z,finalPrice:U,finalValue:W},periodDetails:P}}var Kt=C('<div class="glass-card p-5 text-center border-danger"><i class="bi bi-exclamation-triangle fs-1 text-danger mb-3"></i> <h2 class="h4"> </h2> <a class="btn btn-primary mt-3 px-4">Return Home</a></div>'),Mt=C(`<div class="row justify-content-center mb-4"><div class="col-12"><div class="alert disclaimer-box d-flex align-items-start p-4 shadow-sm svelte-bxfdlt" role="alert"><div class="me-3 mt-1"><i class="bi bi-shield-exclamation fs-4 text-warning"></i></div> <div class="flex-grow-1"><h5 class="alert-heading fw-bold mb-1 small text-uppercase" style="letter-spacing: 1px;">Professional Disclaimer</h5> <p class="mb-0 small text-muted">This simulator is strictly an educational modeling tool and <strong>does not constitute financial advice</strong>. 
                DCA outcomes depend on numerous market factors, including volatility, liquidity, and fees, which are not captured here. 
                For more information, please visit our <a class="fw-bold text-pine text-decoration-none svelte-bxfdlt">Terms and Conditions</a>.</p></div> <button type="button" class="btn-close ms-2" aria-label="Close"></button></div></div></div>`),Qt=C('<div class="col-6 col-md-3"><div><div class="stat-icon mb-2 svelte-bxfdlt"><i></i></div> <small class="text-uppercase fw-bold opacity-75 d-block mb-1" style="font-size: 0.75rem; letter-spacing: 1px;"> </small> <div class="h3 fw-bold mb-0"> </div></div></div>'),Wt=C('<div class="glass-card text-center py-5"><i class="bi bi-search fs-2 opacity-25 d-block mb-2"></i> <p class="text-muted"> </p></div>'),Xt=C('<tr><td class="ps-4 fw-bold"> </td><td> </td><td> </td><td class="pe-4"><span class="badge rounded-pill px-3 py-2 bg-success-subtle text-success svelte-bxfdlt"> </span></td></tr>'),Zt=C('<div class="scrollable-table-container glass-card overflow-hidden shadow-lg border-0 mb-5 svelte-bxfdlt"><div class="table-responsive" style="max-height: 500px; overflow-y: auto;"><table class="table table-hover mb-0 align-middle svelte-bxfdlt"><thead><tr class="sticky-header svelte-bxfdlt"><th class="py-3 ps-4"># Period</th><th class="py-3">Asset Price</th><th class="py-3">Units Bought</th><th class="py-3 pe-4">Amount Invested</th></tr></thead><tbody></tbody></table></div></div>'),te=C("<div><!></div>"),ee=C('<div class="d-flex flex-column flex-md-row justify-content-between align-items-center mb-4 gap-3"><div><h1 class="display-5 fw-bold text-gradient mb-0">Simulation Results</h1> <p class="text-muted mb-0">Analysis based on your custom parameters</p></div> <button class="btn btn-primary px-4 py-2 d-flex align-items-center gap-2 shadow-sm"><i class="bi bi-download"></i> Export CSV</button></div> <!> <div class="row g-4 mb-5"></div> <div class="glass rounded-pill p-2 px-md-4 mb-4 shadow-sm border"><div class="row align-items-center g-2"><div class="col-md-5"><div class="input-group search-group svelte-bxfdlt"><span class="input-group-text bg-transparent border-0 pe-1"><i class="bi bi-search opacity-50"></i></span> <input type="text" class="form-control border-0 bg-transparent svelte-bxfdlt" placeholder="Search by period..."/></div></div> <div class="col-md-4 text-center"><div class="btn-group bg-light-subtle rounded-pill p-1 shadow-inner svelte-bxfdlt"><button>List View</button> <button>Summary Only</button></div></div> <div class="col-md-3 text-md-end text-muted small pe-3"> </div></div></div> <!> <div class="text-center pt-2 pb-5"><a class="btn btn-outline-secondary rounded-pill px-5 py-3 shadow-sm hover-up svelte-bxfdlt"><i class="bi bi-arrow-left me-2"></i> Run New Simulation</a></div>',1),ae=C('<div class="container py-5 mt-5"><!></div>');function ge(x,N){qt(N,!1);const B=()=>zt(Jt,"$page",E),[E,O]=Ot(),h=T();let r=T(null),_=T(null),c=T(""),P=T(!0),z=T(!0);function Q(){if(!t(r))return;const i=["Period","Asset Price ($)","Units Bought","Amount Invested ($)"],l=t(r).periodDetails.map(n=>[n.period,n.price,n.units,n.invested]),y=["AxelBase DCA Simulation Results",`Total Invested,${t(r).summary.totalInvested}`,`Total Units Acquired,${t(r).summary.totalUnits}`,`Average Cost per Unit,${t(r).summary.averageCost}`,`Final Value,${t(r).summary.finalValue}`,"",i.join(","),...l.map(n=>n.join(","))],D=new Blob([y.join(`
`)],{type:"text/csv;charset=utf-8;"}),f=URL.createObjectURL(D),w=document.createElement("a");w.href=f,w.download=`AxelBase-DCA-${new Date().getTime()}.csv`,w.click()}_t(()=>(B(),kt),()=>{if(B()?.url?.searchParams){const i=B().url.searchParams,l=parseFloat(i.get("amount")),y=i.get("frequency")||"weekly",D=parseInt(i.get("periods"),10),f=parseFloat(i.get("initialPrice")),w=parseFloat(i.get("annualGrowth"));if(isNaN(l)||isNaN(D)||isNaN(f)||isNaN(w))v(_,"Invalid parameters. Please return home."),v(r,null);else try{v(r,kt({amount:l,frequency:y,periods:D,initialPrice:f,annualGrowth:w})),v(_,null),v(c,"")}catch(n){v(_,"Calculation error: "+n.message),v(r,null)}}}),_t(()=>(t(r),t(c)),()=>{v(h,t(r)?.periodDetails?.filter(i=>{if(!t(c).trim())return!0;const l=t(c).trim().toLowerCase();return i.period.toString().includes(l)})||[])}),Tt(),Et();var U=ae(),W=a(U);{var S=i=>{var l=Kt(),y=s(a(l),2),D=a(y,!0);e(y);var f=s(y,2);e(l),j(()=>{F(D,t(_)),nt(f,"href",`${dt??""}/`)}),A(1,l,()=>lt,()=>({y:20})),g(i,l)},X=i=>{var l=Vt(),y=yt(l);{var D=f=>{var w=ee(),n=yt(w),Ft=s(a(n),2);e(n);var ct=s(n,2);{var At=u=>{var o=Mt(),V=a(o),$=a(V),k=s(a($),2),d=s(a(k),2),m=s(a(d),3);Bt(),e(d),e(k);var p=s(k,2);e($),e(V),e(o),j(()=>nt(m,"href",`${dt??""}/terms`)),J("click",p,()=>v(z,!1)),A(3,o,()=>$t),g(u,o)};G(ct,u=>{t(z)&&u(At)})}var Z=s(ct,2);wt(Z,5,()=>(t(r),b(()=>[{label:"Total Invested",val:`$${t(r).summary.totalInvested}`,icon:"bi-cash-stack",accent:!1},{label:"Units Acquired",val:t(r).summary.totalUnits,icon:"bi-gem",accent:!1},{label:"Avg. Cost",val:`$${t(r).summary.averageCost}`,icon:"bi-tag",accent:!1},{label:"Final Value",val:`$${t(r).summary.finalValue}`,icon:"bi-graph-up-arrow",accent:!0}])),Rt,(u,o,V)=>{var $=Qt(),k=a($),d=a(k),m=a(d);e(d);var p=s(d,2),q=a(p,!0);e(p);var R=s(p,2),L=a(R,!0);e(R),e(k),e($),j(()=>{M(k,1,`glass-card p-4 text-center h-100 ${t(o),b(()=>t(o).accent?"stat-accent":"")??""}`,"svelte-bxfdlt"),M(m,1,`bi ${t(o),b(()=>t(o).icon)??""} fs-4`,"svelte-bxfdlt"),F(q,(t(o),b(()=>t(o).label))),F(L,(t(o),b(()=>t(o).val)))}),A(1,$,()=>lt,()=>({y:30,delay:150*V,duration:600})),g(u,$)}),e(Z);var H=s(Z,2),vt=a(H),tt=a(vt),ut=a(tt),mt=s(a(ut),2);Lt(mt),e(ut),e(tt);var et=s(tt,2),pt=a(et),at=a(pt),bt=s(at,2);e(pt),e(et);var ft=s(et,2),Ct=a(ft);e(ft),e(vt),e(H);var gt=s(H,2);{var Pt=u=>{var o=te(),V=a(o);{var $=d=>{var m=Wt(),p=s(a(m),2),q=a(p);e(p),e(m),j(()=>F(q,`No results match your search "${t(c)??""}"`)),g(d,m)},k=d=>{var m=Zt(),p=a(m),q=a(p),R=s(a(q));wt(R,5,()=>t(h),L=>L.period,(L,I)=>{var Y=Xt(),rt=a(Y),It=a(rt);e(rt);var it=s(rt),Ut=a(it);e(it);var ot=s(it),Nt=a(ot,!0);e(ot);var xt=s(ot),ht=a(xt),St=a(ht);e(ht),e(xt),e(Y),j(()=>{F(It,`Period ${t(I),b(()=>t(I).period)??""}`),F(Ut,`$${t(I),b(()=>t(I).price)??""}`),F(Nt,(t(I),b(()=>t(I).units))),F(St,`$${t(I),b(()=>t(I).invested)??""}`)}),A(1,Y,()=>K),g(L,Y)}),e(R),e(q),e(p),e(m),g(d,m)};G(V,d=>{t(h),b(()=>t(h).length===0)?d($):d(k,!1)})}e(o),A(3,o,()=>$t,()=>({duration:500})),g(u,o)};G(gt,u=>{t(P)&&u(Pt)})}var st=s(gt,2),Dt=a(st);e(st),j(()=>{M(at,1,`btn btn-sm rounded-pill px-4 ${t(P)?"btn-primary shadow":"btn-link text-decoration-none text-muted"}`),M(bt,1,`btn btn-sm rounded-pill px-4 ${t(P)?"btn-link text-decoration-none text-muted":"btn-primary shadow"}`),F(Ct,`Showing ${t(h),b(()=>t(h).length)??""} items`),nt(Dt,"href",`${dt??""}/`)}),J("click",Ft,Q),A(1,n,()=>lt,()=>({y:-20,duration:800})),Gt(mt,()=>t(c),u=>v(c,u)),J("click",at,()=>v(P,!0)),J("click",bt,()=>v(P,!1)),A(1,H,()=>K,()=>({delay:600})),A(1,st,()=>K,()=>({delay:800})),g(f,w)};G(y,f=>{t(r)&&f(D)},!0)}g(i,l)};G(W,i=>{t(_)?i(S):i(X,!1)})}e(U),A(1,U,()=>K,()=>({duration:600})),g(x,U),jt(),O()}export{ge as component};
